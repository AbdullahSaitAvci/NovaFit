@model NovaFit.Models.AiRequestDto
@{
    ViewData["Title"] = "AI Koç";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    /* Arka Planı Zorla Koyu Yap */
    body {
        background-color: #121212 !important;
        color: #e0e0e0 !important;
    }

    /* NovaFit Sarısı */
    .text-nova {
        color: #ffc107 !important;
    }

    .bg-nova {
        background-color: #ffc107 !important;
        color: #000 !important;
    }

    /* Kart Tasarımı */
    .card-custom {
        background-color: #1e1e1e;
        border: 1px solid #333;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }

    /* Form Input Tasarımları (Dark Input) */
    .form-control-dark, .form-select-dark {
        background-color: #2c2c2c;
        border: 1px solid #444;
        color: #fff;
        padding: 12px;
        border-radius: 8px;
    }

        /* Inputa tıklayınca sarı parlasın */
        .form-control-dark:focus, .form-select-dark:focus {
            background-color: #2c2c2c;
            color: #fff;
            border-color: #ffc107;
            box-shadow: 0 0 0 0.25rem rgba(255, 193, 7, 0.25);
            outline: none;
        }

        /* Placeholder rengini düzelt */
        .form-control-dark::placeholder {
            color: #888;
        }

    /* Buton Tasarımı */
    .btn-nova-action {
        background: linear-gradient(45deg, #ffc107, #ffdb4d);
        border: none;
        color: #000;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
    }

        .btn-nova-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 193, 7, 0.4);
            background: linear-gradient(45deg, #ffdb4d, #ffc107);
        }

    /* Etiketler (Labels) */
    .form-label {
        color: #bbb;
        font-size: 0.9rem;
        margin-bottom: 5px;
    }

    /* Seçim okunu beyaza çevir (Select box arrow) */
    .form-select-dark {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
    }
</style>

<div class="container py-5">

    <div class="text-center mb-5">
        <h2 class="display-5 fw-bold text-white text-uppercase">
            <i class="bi bi-robot text-nova me-2"></i> NovaFit <span class="text-nova">AI KOÇ</span>
        </h2>
        <p class="text-secondary fs-5">
            Yapay zeka vücut analizini yapsın, sana en uygun programı çıkarsın.
        </p>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
            <div class="card card-custom p-4 p-md-5">

                <form asp-action="GeneratePlan" method="post" enctype="multipart/form-data" onsubmit="document.getElementById('loadingDiv').style.display='block'; document.getElementById('btnSubmit').style.display='none';">

                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label fw-bold text-uppercase">YAŞ</label>
                            <input asp-for="Age" class="form-control form-control-dark" type="number" placeholder="Örn: 24" required />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label fw-bold text-uppercase">CİNSİYET</label>
                            <select asp-for="Gender" class="form-select form-select-dark">
                                <option>Erkek</option>
                                <option>Kadın</option>
                            </select>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label fw-bold text-uppercase">KİLO (KG)</label>
                            <input asp-for="Weight" class="form-control form-control-dark" type="number" placeholder="Örn: 75" required />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label fw-bold text-uppercase">BOY (CM)</label>
                            <input asp-for="Height" class="form-control form-control-dark" type="number" placeholder="Örn: 178" required />
                        </div>

                        <div class="col-12">
                            <label class="form-label fw-bold text-uppercase">MEVCUT SPOR SEVİYEN</label>
                            <select asp-for="FitnessLevel" class="form-select form-select-dark">
                                <option>Hiç spor yapmadım (Başlangıç)</option>
                                <option>Ara sıra yapıyorum (Orta)</option>
                                <option>Düzenli yapıyorum (İleri)</option>
                            </select>
                        </div>

                        <div class="col-12">
                            <label class="form-label fw-bold text-uppercase">HEDEFİN NE?</label>
                            <select asp-for="Goal" class="form-select form-select-dark">
                                <option>Kilo Vermek / Yağ Yakmak</option>
                                <option>Kas Kütlesi Kazanmak (Hacim)</option>
                                <option>Sıkılaşmak ve Fit Görünmek</option>
                            </select>
                        </div>

                        <div class="col-12">
                            <div class="p-3 border border-secondary rounded-3 bg-dark bg-opacity-50">
                                <label class="form-label fw-bold text-nova mb-2">
                                    <i class="bi bi-camera-fill me-1"></i> FOTOĞRAF YÜKLE (İSTEĞE BAĞLI)
                                </label>
                                <input asp-for="UserImage" class="form-control form-control-dark" type="file" accept="image/*" />
                                <div class="form-text text-secondary mt-2 small">
                                    <i class="bi bi-info-circle"></i> Yüzünün veya vücut tipinin göründüğü bir fotoğraf yüklersen, AI sana daha nokta atışı tavsiyeler verebilir.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="d-grid mt-5">
                        <button type="submit" id="btnSubmit" class="btn btn-nova-action btn-lg py-3 rounded-pill shadow-lg">
                            <i class="bi bi-cpu-fill me-2"></i> ANALİZ ET VE PROGRAMI OLUŞTUR
                        </button>
                    </div>
                </form>

                <div id="loadingDiv" class="text-center mt-4" style="display:none;">
                    <div class="spinner-border text-nova" style="width: 3rem; height: 3rem;" role="status">
                        <span class="visually-hidden">Yükleniyor...</span>
                    </div>
                    <h5 class="mt-3 text-white fw-bold">YAPAY ZEKA ANALİZ EDİYOR...</h5>
                    <p class="text-secondary small">Fotoğrafını işliyoruz, bu işlem 10-20 saniye sürebilir.</p>
                </div>

            </div>
        </div>
    </div>
</div>